(function(){"use strict";var t={6132:function(t,e,a){t.exports=a.p+"img/可莉.dbd5f2c5.jpg"},6220:function(t,e,a){var i=a(6848),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("NavigationBar1"),e("router-view")],1)},s=[],o=(a(4114),a(8111),a(2489),function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar style-5",style:t.navbarStyle},[e("div",{staticClass:"container"},[e("div",{staticClass:"logo"},[e("div",{staticClass:"user-avatar",on:{click:t.goToLogin}},[e("div",{staticClass:"anime-img"},[e("img",{staticClass:"avatar-img",attrs:{src:t.userAvatar,alt:"用户头像"}}),e("div",{staticClass:"online-status",class:t.isOnline?"online":"offline"})]),e("div",{staticClass:"user-info"},[e("span",{staticClass:"username"},[t._v(t._s(t.userName||"未登录"))]),e("span",{staticClass:"user-status"},[t._v(t._s(t.isOnline?"在线":"离线"))])])]),e("span",[t._v("今日倒计时")]),t.showCountdown?e("span",{staticClass:"countdown-display"},[e("i",{staticClass:"clock-icon",class:["bi",t.randomClockClass]}),t._v(" "+t._s(t.hours)+":"+t._s(t.minutes)+":"+t._s(t.seconds)+" ")]):t._e()]),e("ul",{staticClass:"nav-links"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("任务")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/background"}},[t._v("背景图")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v("关于")])],1)])])])}),r=[],l={name:"NavigationBar1",data(){return{targetTime:new Date,countdownInterval:null,hours:"00",minutes:"00",seconds:"00",showCountdown:!1,clockIconClasses:["bi-alarm","bi-alarm-fill","bi-clock","bi-clock-fill","bi-stopwatch","bi-stopwatch-fill","bi-hourglass","bi-hourglass-split"],randomClockClass:"",userName:"",userAvatar:a(6132),isOnline:!1}},computed:{navbarStyle(){const t=localStorage.getItem("navBackground"),e=localStorage.getItem("navOpacity")||100;return t?{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"98% !important",height:"auto !important",margin:"0",padding:"0.5rem",transition:"all 0.3s ease",borderRadius:"15px 15px 0 0",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.17)",opacity:e/100}:{backgroundImage:"url('../assets/原神导航栏背景图.png')",backgroundSize:"cover !important",backgroundPosition:"center !important",backgroundRepeat:"no-repeat !important",width:"98% !important",height:"auto !important",margin:"0",padding:"0.5rem",transition:"all 0.3s ease",borderRadius:"15px 15px 0 0",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.17)",opacity:e/100}}},mounted(){this.setTargetToEndOfDay(),this.calculateCountdown(),this.showCountdown=!0,this.countdownInterval=setInterval(()=>{this.calculateCountdown()},1e3),this.randomClockClass=this.getRandomClock(),this.loadUserInfo()},beforeUnmount(){this.countdownInterval&&clearInterval(this.countdownInterval)},methods:{loadUserInfo(){const t=localStorage.getItem("userInfo");if(t)try{const e=JSON.parse(t);this.userName=e.name||"",this.userAvatar=e.avatar||a(6132),this.isOnline=e.isOnline||!1}catch(e){console.error("解析用户信息失败:",e),this.resetToDefault()}else this.resetToDefault()},resetToDefault(){this.userName="",this.userAvatar=a(6132),this.isOnline=!1},goToLogin(){this.userName?this.showUserMenu():this.$router.push("/login")},showUserMenu(){confirm(`${this.userName}，您想要执行什么操作？\n\n点击"确定"查看资料，点击"取消"退出登录`)?this.viewProfile():this.logout()},viewProfile(){alert(`用户资料:\n\n姓名: ${this.userName}\n状态: ${this.isOnline?"在线":"离线"}`)},logout(){confirm("确定要退出登录吗？")&&(localStorage.removeItem("userInfo"),this.resetToDefault(),alert("已退出登录"))},getRandomClock(){const t=Math.floor(Math.random()*this.clockIconClasses.length);return this.clockIconClasses[t]},setTargetToEndOfDay(){const t=new Date;this.targetTime=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59)},calculateCountdown(){const t=(new Date).getTime(),e=this.targetTime.getTime(),a=e-t;if(a<=0)return this.targetTime.setDate(this.targetTime.getDate()+1),void this.calculateCountdown();const i=Math.floor(a%864e5/36e5),n=Math.floor(a%36e5/6e4),s=Math.floor(a%6e4/1e3);this.hours=i.toString().padStart(2,"0"),this.minutes=n.toString().padStart(2,"0"),this.seconds=s.toString().padStart(2,"0")}}},c=l,d=a(1656),h=(0,d.A)(c,o,r,!1,null,"13090bc4",null),m=h.exports,p={name:"App",components:{NavigationBar1:m},data(){return{todos:[],currentFilter:"all"}},computed:{filteredTodos(){switch(this.currentFilter){case"active":return this.todos.filter(t=>!t.completed);case"completed":return this.todos.filter(t=>t.completed);default:return this.todos}},remaining(){return this.todos.filter(t=>!t.completed).length},completedCount(){return this.todos.filter(t=>t.completed).length}},methods:{goToBackgroundSetting(){this.$router.push("/background")},addTodo(t){this.todos.push({text:t,completed:!1})},setFilter(t){this.currentFilter=t},updateTodo(t,e){this.todos.splice(t,1,e)},removeTodo(t){this.todos.splice(t,1)},clearCompleted(){this.todos=this.todos.filter(t=>!t.completed)}}},u=p,v=(0,d.A)(u,n,s,!1,null,"ab4bc4a8",null),g=v.exports,C=a(6178),f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",style:t.containerStyle},[e("MyHead"),e("InputSection",{attrs:{filter:t.currentFilter},on:{"add-todo":t.addTodo,"set-filter":t.setFilter}}),e("TaskList",{attrs:{filteredTodos:t.filteredTodos},on:{"update-todo":t.updateTodo,"remove-todo":t.removeTodo}}),e("MyFooter",{attrs:{remaining:t.remaining,completedCount:t.completedCount},on:{"clear-completed":t.clearCompleted}})],1)},w=[],y=function(){var t=this,e=t._self._c;return e("header",{staticClass:"todo-header"},[e("h1",{staticClass:"title"},[e("P",[e("i",{staticClass:"fas fa-star anime-star"}),t._v(" "+t._s(t.getCurrentDate())+" "),e("i",{staticClass:"fas fa-star anime-star"}),t._v(" "),e("br"),t._v("任务清单")])],1)])},I=[],S={methods:{getCurrentDate(){const t=new Date,e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${e}年${a}月${i}日`}}},b=S,_=(0,d.A)(b,y,I,!1,null,"956ff768",null),k=_.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-section"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodo,expression:"newTodo"}],staticClass:"todo-input",attrs:{type:"text",placeholder:"添加新任务..."},domProps:{value:t.newTodo},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo.apply(null,arguments)},input:function(e){e.target.composing||(t.newTodo=e.target.value)}}}),e("button",{staticClass:"add-btn",on:{click:t.addTodo}},[e("i",{staticClass:"fas fa-plus"}),t._v("添加 ")]),e("div",{staticClass:"filters"},[e("button",{staticClass:"filter-btn",class:{active:"all"===t.currentFilter},on:{click:function(e){t.currentFilter="all"}}},[t._v("全部")]),e("button",{staticClass:"filter-btn",class:{active:"active"===t.currentFilter},on:{click:function(e){t.currentFilter="active"}}},[t._v("未完成")]),e("button",{staticClass:"filter-btn",class:{active:"completed"===t.currentFilter},on:{click:function(e){t.currentFilter="completed"}}},[t._v("已完成")])])])},T=[],O={props:["filter"],emits:["add-todo","set-filter"],data(){return{newTodo:"",currentFilter:this.filter}},methods:{addTodo(){this.newTodo.trim()&&(this.$emit("add-todo",this.newTodo.trim()),this.newTodo="")}},watch:{currentFilter(t){this.$emit("set-filter",t)},filter(t){this.currentFilter=t}}},D=O,M=(0,d.A)(D,x,T,!1,null,"99257ed6",null),$=M.exports,A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"todo-list"},[t._l(t.filteredTodos,function(a,i){return e("div",{key:i,staticClass:"todo-item",class:{completed:a.completed}},[e("div",{staticClass:"todo-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.completed,expression:"todo.completed"}],staticClass:"checkbox",attrs:{type:"checkbox",name:"",id:""},domProps:{checked:Array.isArray(a.completed)?t._i(a.completed,null)>-1:a.completed},on:{change:[function(e){var i=a.completed,n=e.target,s=!!n.checked;if(Array.isArray(i)){var o=null,r=t._i(i,o);n.checked?r<0&&t.$set(a,"completed",i.concat([o])):r>-1&&t.$set(a,"completed",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(a,"completed",s)},function(e){return t.$emit("update-todo",i,{...a,completed:a.completed})}]}})]),e("div",{staticClass:"todo-text"},[t._v(t._s(a.text))]),e("div",{staticClass:"todo-actions"},[e("button",{staticClass:"delete-btn",on:{click:function(e){return t.$emit("remove-todo",i)}}},[e("i",{staticClass:"fas fa-trash"})])])])}),0===t.filteredTodos.length?e("div",{staticClass:"empty-state"},[e("i",{staticClass:"fas fa-box-open anime-icon"}),e("p",[t._v("没有任务哦~ 快去添加吧！")])]):t._e()],2)},E=[],U={props:["filteredTodos"]},N=U,P=(0,d.A)(N,A,E,!1,null,"4e581ca0",null),F=P.exports,z=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"todo-footer"},[e("p",[t._v("剩余 "+t._s(t.remaining)+" 个任务未完成")]),t.completedCount>0?e("button",{staticClass:"clear-btn",on:{click:t.clearCompleted}},[t._v(" 清除已完成任务 ")]):t._e()])},L=[],R={props:["remaining","completedCount"],methods:{clearCompleted(){this.$emit("clear-completed")}}},Y=R,B=(0,d.A)(Y,z,L,!1,null,"bc318e74",null),H=B.exports,X={name:"MyHome",components:{MyHead:k,InputSection:$,TaskList:F,MyFooter:H},data(){return{todos:[],currentFilter:"all"}},computed:{filteredTodos(){switch(this.currentFilter){case"active":return this.todos.filter(t=>!t.completed);case"completed":return this.todos.filter(t=>t.completed);default:return this.todos}},remaining(){return this.todos.filter(t=>!t.completed).length},completedCount(){return this.todos.filter(t=>t.completed).length},containerStyle(){const t=localStorage.getItem("mainBackground");return{backgroundImage:t?`url(${t})`:"url(./assets/主页背景图3.png)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}},mounted(){const t=localStorage.getItem("todos");this.todos=t?JSON.parse(t):[]},watch:{todos:{handler(t){localStorage.setItem("todos",JSON.stringify(t))},deep:!0}},methods:{addTodo(t){this.todos.push({text:t,completed:!1})},setFilter(t){this.currentFilter=t},updateTodo(t,e){this.todos.splice(t,1,e)},removeTodo(t){this.todos.splice(t,1)},clearCompleted(){this.todos=this.todos.filter(t=>!t.completed)}}},j=X,J=(0,d.A)(j,f,w,!1,null,null,null),W=J.exports,q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"background-setting"},[e("h2",[t._v("设置背景图")]),e("div",{staticClass:"setting-section"},[e("h3",[t._v("主页背景")]),t.mainImageUrl?e("div",{staticClass:"opacity-control"},[e("label",[t._v("透明度: "+t._s(t.mainOpacity)+"%")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.mainOpacity,expression:"mainOpacity"}],attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.mainOpacity},on:{input:t.updateMainPreview,__r:function(e){t.mainOpacity=e.target.value}}})]):t._e(),e("div",{staticClass:"upload-area"},[e("label",{staticClass:"upload-label",attrs:{for:"main-upload"}},[e("i",{staticClass:"fas fa-upload"}),e("span",[t._v("上传主页背景图")]),e("input",{staticClass:"upload-input",attrs:{type:"file",id:"main-upload",accept:"image/*"},on:{change:t.handleMainUpload}})])]),t.mainImageUrl?e("div",{staticClass:"crop-section"},[e("h4",[t._v("主页背景裁剪 (拖动选择区域)")]),e("div",{staticClass:"crop-container"},[e("div",{staticClass:"image-wrapper"},[e("div",{staticClass:"image-container"},[e("img",{ref:"mainImage",staticClass:"crop-image",attrs:{src:t.mainImageUrl},on:{load:t.initMainCrop}}),e("div",{staticClass:"crop-box",style:t.mainCropStyle,on:{mousedown:function(e){return t.startDrag("main",e)},touchstart:function(e){return t.startDrag("main",e)}}},[e("div",{staticClass:"crop-handle"})])])])]),e("div",{staticClass:"crop-controls"},[e("button",{staticClass:"control-btn",on:{click:t.resetMainCrop}},[t._v("重置")]),e("button",{staticClass:"control-btn",on:{click:t.centerMainCrop}},[t._v("居中")])])]):t._e(),t.mainImageUrl?e("div",{staticClass:"preview"},[e("h4",[t._v("主页预览")]),e("div",{staticClass:"main-preview-box"},[e("div",{staticClass:"preview-frame"},[e("div",{staticClass:"preview-content",style:t.mainPreviewStyle},[e("div",{staticClass:"preview-header"},[t._v("任务清单头部")]),e("div",{staticClass:"preview-task"},[t._v("示例任务内容")]),e("div",{staticClass:"preview-footer"},[t._v("底部统计")])])])])]):t._e()]),e("div",{staticClass:"setting-section"},[e("h3",[t._v("导航栏背景")]),t.navImageUrl?e("div",{staticClass:"opacity-control"},[e("label",[t._v("透明度: "+t._s(t.navOpacity)+"%")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.navOpacity,expression:"navOpacity"}],attrs:{type:"range",min:"0",max:"100"},domProps:{value:t.navOpacity},on:{input:t.updateNavPreview,__r:function(e){t.navOpacity=e.target.value}}})]):t._e(),e("div",{staticClass:"upload-area"},[e("label",{staticClass:"upload-label",attrs:{for:"nav-upload"}},[e("i",{staticClass:"fas fa-upload"}),e("span",[t._v("上传导航栏背景图")]),e("input",{staticClass:"upload-input",attrs:{type:"file",id:"nav-upload",accept:"image/*"},on:{change:t.handleNavUpload}})])]),t.navImageUrl?e("div",{staticClass:"crop-section"},[e("h4",[t._v("导航栏背景裁剪 (拖动选择区域)")]),e("div",{staticClass:"crop-container"},[e("div",{staticClass:"image-wrapper"},[e("div",{staticClass:"image-container"},[e("img",{ref:"navImage",staticClass:"crop-image",attrs:{src:t.navImageUrl},on:{load:t.initNavCrop}}),e("div",{staticClass:"crop-box",style:t.navCropStyle,on:{mousedown:function(e){return t.startDrag("nav",e)},touchstart:function(e){return t.startDrag("nav",e)}}},[e("div",{staticClass:"crop-handle"})])])])]),e("div",{staticClass:"crop-controls"},[e("button",{staticClass:"control-btn",on:{click:t.resetNavCrop}},[t._v("重置")]),e("button",{staticClass:"control-btn",on:{click:t.centerNavCrop}},[t._v("居中")])])]):t._e(),t.navImageUrl?e("div",{staticClass:"preview"},[e("h4",[t._v("导航栏预览")]),e("div",{staticClass:"nav-preview-box"},[e("div",{staticClass:"preview-frame"},[e("div",{staticClass:"nav-preview-content",style:t.navPreviewStyle},[e("div",{staticClass:"nav-preview-logo"},[t._v("Logo")]),t._m(0)])])])]):t._e()]),e("div",{staticClass:"submit-section"},[e("button",{staticClass:"submit-btn",on:{click:t.cropAndSave}},[e("i",{staticClass:"fas fa-check"}),t._v(" 裁剪并保存 ")]),e("button",{staticClass:"cancel-btn",on:{click:function(e){return t.$router.push("/")}}},[e("i",{staticClass:"fas fa-times"}),t._v(" 取消 ")])])])},G=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-preview-links"},[e("span",[t._v("任务")]),e("span",[t._v("背景图")]),e("span",[t._v("关于")])])}],K={data(){return{mainImageUrl:"",mainImageElement:null,mainCrop:{x:0,y:0,width:0,height:0},mainCroppedImage:"",mainIsDragging:!1,mainStartX:0,mainStartY:0,mainStartCrop:null,mainOpacity:80,mainScale:1,navImageUrl:"",navImageElement:null,navCrop:{x:0,y:0,width:0,height:0},navCroppedImage:"",navIsDragging:!1,navStartX:0,navStartY:0,navStartCrop:null,navOpacity:80,navScale:1,previewSizes:{main:{width:400,height:500},actual:{width:800,height:1e3},navPreview:{width:400,height:60},navActual:{width:800,height:100}}}},computed:{mainCropStyle(){return{left:`${this.mainCrop.x}px`,top:`${this.mainCrop.y}px`,width:`${this.mainCrop.width}px`,height:`${this.mainCrop.height}px`}},navCropStyle(){return{left:`${this.navCrop.x}px`,top:`${this.navCrop.y}px`,width:`${this.navCrop.width}px`,height:`${this.navCrop.height}px`}},mainPreviewStyle(){if(!this.mainCroppedImage)return{};const t=this.previewSizes.main.width/this.previewSizes.actual.width,e=this.previewSizes.main.height/this.previewSizes.actual.height,a=.9*Math.min(t,e);return{backgroundImage:`url(${this.mainCroppedImage})`,backgroundSize:`${this.previewSizes.actual.width*a}px ${this.previewSizes.actual.height*a}px`,backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:this.mainOpacity/100}},navPreviewStyle(){if(!this.navCroppedImage)return{};const t=this.previewSizes.navPreview.width/this.previewSizes.navActual.width,e=this.previewSizes.navPreview.height/this.previewSizes.navActual.height,a=.9*Math.min(t,e);return{backgroundImage:`url(${this.navCroppedImage})`,backgroundSize:`${this.previewSizes.navActual.width*a}px ${this.previewSizes.navActual.height*a}px`,backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:this.navOpacity/100}}},mounted(){this.loadSavedSettings(),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.stopDrag),document.addEventListener("touchmove",this.handleDrag),document.addEventListener("touchend",this.stopDrag)},beforeDestroy(){document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.stopDrag),document.removeEventListener("touchmove",this.handleDrag),document.removeEventListener("touchend",this.stopDrag)},methods:{loadSavedSettings(){const t=localStorage.getItem("mainBackground"),e=localStorage.getItem("navBackground"),a=localStorage.getItem("mainOpacity"),i=localStorage.getItem("navOpacity");t&&(this.mainImageUrl=t,this.mainCroppedImage=t),e&&(this.navImageUrl=e,this.navCroppedImage=e),a&&(this.mainOpacity=parseInt(a)),i&&(this.navOpacity=parseInt(i))},handleMainUpload(t){this.handleUpload(t,"main")},handleNavUpload(t){this.handleUpload(t,"nav")},handleUpload(t,e){const a=t.target.files[0];if(a){const t=new FileReader;t.onload=t=>{"main"===e?(this.mainImageUrl=t.target.result,this.mainOpacity=80):(this.navImageUrl=t.target.result,this.navOpacity=80)},t.readAsDataURL(a)}},initMainCrop(){if(this.mainImageElement=this.$refs.mainImage,this.mainImageElement){const t=this.mainImageElement,e=600;this.mainScale=e/t.naturalWidth;const a=t.naturalHeight*this.mainScale,i=.8*e,n=i*(5/4);this.mainCrop={x:(e-i)/2,y:(a-n)/2,width:i,height:n}}},initNavCrop(){if(this.navImageElement=this.$refs.navImage,this.navImageElement){const t=this.navImageElement,e=600;this.navScale=e/t.naturalWidth;const a=t.naturalHeight*this.navScale,i=.8*e,n=i*(1/8);this.navCrop={x:(e-i)/2,y:(a-n)/2,width:i,height:n}}},centerMainCrop(){if(this.mainImageElement){const t=this.mainImageElement,e=t.naturalHeight*this.mainScale;this.mainCrop.x=(600-this.mainCrop.width)/2,this.mainCrop.y=(e-this.mainCrop.height)/2}},centerNavCrop(){if(this.navImageElement){const t=this.navImageElement,e=t.naturalHeight*this.navScale;this.navCrop.x=(600-this.navCrop.width)/2,this.navCrop.y=(e-this.navCrop.height)/2}},startDrag(t,e){e.preventDefault();const a=e.touches?e.touches[0].clientX:e.clientX,i=e.touches?e.touches[0].clientY:e.clientY;"main"===t?(this.mainIsDragging=!0,this.mainStartX=a,this.mainStartY=i,this.mainStartCrop={...this.mainCrop}):(this.navIsDragging=!0,this.navStartX=a,this.navStartY=i,this.navStartCrop={...this.navCrop})},handleDrag(t){if(!this.mainIsDragging&&!this.navIsDragging)return;t.preventDefault();const e=t.touches?t.touches[0].clientX:t.clientX,a=t.touches?t.touches[0].clientY:t.clientY;if(this.mainIsDragging){const t=e-this.mainStartX,i=a-this.mainStartY,n=this.mainImageElement,s=n.naturalHeight*this.mainScale,o=600-this.mainCrop.width,r=s-this.mainCrop.height;this.mainCrop.x=Math.max(0,Math.min(this.mainStartCrop.x+t,o)),this.mainCrop.y=Math.max(0,Math.min(this.mainStartCrop.y+i,r))}if(this.navIsDragging){const t=e-this.navStartX,i=a-this.navStartY,n=this.navImageElement,s=n.naturalHeight*this.navScale,o=600-this.navCrop.width,r=s-this.navCrop.height;this.navCrop.x=Math.max(0,Math.min(this.navStartCrop.x+t,o)),this.navCrop.y=Math.max(0,Math.min(this.navStartCrop.y+i,r))}},stopDrag(){this.mainIsDragging=!1,this.navIsDragging=!1},resetMainCrop(){this.initMainCrop()},resetNavCrop(){this.initNavCrop()},updateMainPreview(){this.mainImageElement&&this.mainImageUrl&&this.cropImage("main").then(t=>{this.mainCroppedImage=t})},updateNavPreview(){this.navImageElement&&this.navImageUrl&&this.cropImage("nav").then(t=>{this.navCroppedImage=t})},cropAndSave(){this.mainImageElement&&this.mainImageUrl&&this.cropImage("main").then(t=>{this.mainCroppedImage=t,localStorage.setItem("mainBackground",t),localStorage.setItem("mainOpacity",this.mainOpacity)}),this.navImageElement&&this.navImageUrl&&this.cropImage("nav").then(t=>{this.navCroppedImage=t,localStorage.setItem("navBackground",t),localStorage.setItem("navOpacity",this.navOpacity)}),alert("背景设置修改成功！"),this.$router.push("/")},cropImage(t){return new Promise(e=>{const a=document.createElement("canvas"),i=a.getContext("2d");let n,s,o,r;"main"===t?(n=this.mainImageElement,s=this.mainCrop,o=this.mainScale,r=this.previewSizes.actual):(n=this.navImageElement,s=this.navCrop,o=this.navScale,r=this.previewSizes.navActual),a.width=r.width,a.height=r.height;const l=s.x/o,c=s.y/o,d=s.width/o,h=s.height/o;i.drawImage(n,l,c,d,h,0,0,r.width,r.height),e(a.toDataURL("image/jpeg",.9))})}}},Q=K,V=(0,d.A)(Q,q,G,!1,null,"02dd3229",null),Z=V.exports;i.Ay.use(C.Ay);const tt=[{path:"/",name:"MyHome",component:W},{path:"/background",name:"BackgroundSetting",component:Z}],et=new C.Ay({mode:"history",routes:tt}),at=C.Ay.prototype.push;C.Ay.prototype.push=function(t){return at.call(this,t).catch(t=>{if("NavigationDuplicated"!==t.name)throw t})};var it=et;i.Ay.config.productionTip=!1,new i.Ay({router:it,render:t=>t(g)}).$mount("#app")}},e={};function a(i){var n=e[i];if(void 0!==n)return n.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,a),s.exports}a.m=t,function(){var t=[];a.O=function(e,i,n,s){if(!i){var o=1/0;for(d=0;d<t.length;d++){i=t[d][0],n=t[d][1],s=t[d][2];for(var r=!0,l=0;l<i.length;l++)(!1&s||o>=s)&&Object.keys(a.O).every(function(t){return a.O[t](i[l])})?i.splice(l--,1):(r=!1,s<o&&(o=s));if(r){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[i,n,s]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.p="/"}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,s,o=i[0],r=i[1],l=i[2],c=0;if(o.some(function(e){return 0!==t[e]})){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(l)var d=l(a)}for(e&&e(i);c<o.length;c++)s=o[c],a.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return a.O(d)},i=self["webpackChunkmy_todolist"]=self["webpackChunkmy_todolist"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],function(){return a(6220)});i=a.O(i)})();
//# sourceMappingURL=app.48399a0b.js.map